{"ast":null,"code":"import\"./App.css\";import Home from\"./Component/Home\";import{BrowserRouter,Route,Routes}from\"react-router-dom\";import NavBar from\"./Component/NavBar\";import Watch from\"./Component/Watch\";import{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[watchList,setWatchList]=useState([]);const[pageNo,setPageNo]=useState(1);function handleNext(){setPageNo(pageNo+1);}function handlePrevious(){if(pageNo>1){setPageNo(pageNo-1);}}const handleAddToWatchList=movieObj=>{// const newWatchList = [...watchList];\n// newWatchList.push(id);\nconst newWatchList=[...watchList,movieObj];localStorage.setItem(\"watchList\",JSON.stringify(newWatchList));setWatchList(newWatchList);};const handleRemoveFromWatchList=movieObj=>{const newWatchList=watchList.filter(movie=>{return movie.id!==movieObj.id;});localStorage.setItem(\"watchList\",JSON.stringify(newWatchList));setWatchList(newWatchList);};useEffect(()=>{let watchListFromLocalStorage=JSON.parse(localStorage.getItem(\"watchList\"));if(watchListFromLocalStorage===null){return;}setWatchList(watchListFromLocalStorage);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{watchList:watchList,setWatchList:setWatchList,handleAddToWatchList:handleAddToWatchList,handleRemoveFromWatchList:handleRemoveFromWatchList,pageNo:pageNo,handleNext:handleNext,handlePrevious:handlePrevious,setPageNo:setPageNo})}),/*#__PURE__*/_jsx(Route,{path:\"/watchList\",element:/*#__PURE__*/_jsx(Watch,{watchList:watchList,setWatchList:setWatchList,handleRemoveFromWatchList:handleRemoveFromWatchList})})]})]})});}export default App;","map":{"version":3,"names":["Home","BrowserRouter","Route","Routes","NavBar","Watch","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","watchList","setWatchList","pageNo","setPageNo","handleNext","handlePrevious","handleAddToWatchList","movieObj","newWatchList","localStorage","setItem","JSON","stringify","handleRemoveFromWatchList","filter","movie","id","watchListFromLocalStorage","parse","getItem","children","path","element"],"sources":["E:/Revision/React/movies/src/App.jsx"],"sourcesContent":["import \"./App.css\";\nimport Home from \"./Component/Home\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport NavBar from \"./Component/NavBar\";\nimport Watch from \"./Component/Watch\";\nimport { useState, useEffect } from \"react\";\nfunction App() {\n  const [watchList, setWatchList] = useState([]);\n  const [pageNo, setPageNo] = useState(1);\n  function handleNext() {\n    setPageNo(pageNo + 1);\n  }\n\n  function handlePrevious() {\n    if (pageNo > 1) {\n      setPageNo(pageNo - 1);\n    }\n  }\n\n  const handleAddToWatchList = (movieObj) => {\n    // const newWatchList = [...watchList];\n    // newWatchList.push(id);\n\n    const newWatchList = [...watchList, movieObj];\n    localStorage.setItem(\"watchList\", JSON.stringify(newWatchList));\n    setWatchList(newWatchList);\n  };\n  const handleRemoveFromWatchList = (movieObj) => {\n    const newWatchList = watchList.filter((movie) => {\n      return movie.id !== movieObj.id;\n    });\n    localStorage.setItem(\"watchList\", JSON.stringify(newWatchList));\n    setWatchList(newWatchList);\n  };\n\n  useEffect(() => {\n    let watchListFromLocalStorage = JSON.parse(\n      localStorage.getItem(\"watchList\")\n    );\n    if (watchListFromLocalStorage === null) {\n      return;\n    }\n\n    setWatchList(watchListFromLocalStorage);\n  }, []);\n\n  return (\n    <>\n      <BrowserRouter>\n        <NavBar />\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <Home\n                watchList={watchList}\n                setWatchList={setWatchList}\n                handleAddToWatchList={handleAddToWatchList}\n                handleRemoveFromWatchList={handleRemoveFromWatchList}\n                pageNo={pageNo}\n                handleNext={handleNext}\n                handlePrevious={handlePrevious}\n                setPageNo={setPageNo}\n              />\n            }\n          ></Route>\n          <Route\n            path=\"/watchList\"\n            element={\n              <Watch\n                watchList={watchList}\n                setWatchList={setWatchList}\n                handleRemoveFromWatchList={handleRemoveFromWatchList}\n              />\n            }\n          ></Route>\n        </Routes>\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}